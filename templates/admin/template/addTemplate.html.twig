{% extends 'base_admin.html.twig' %}

{% block title %}Admin DashBoard{% endblock %}

{% block breadcrumb %}
    <li class="breadcrumb-item active">Template</li>
    <li class="breadcrumb-item active">
        {% if editMode == 1 %}
            Modifier
        {% else %}
            Ajouter
        {% endif %}
    </li>
{% endblock %}


{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="/css/image_upload.css">
{% endblock %}

{% block body %}

    <div class="card mb-4 mt-5">
        <div class="card-header">
            <i class="fas fa-plus mr-1"></i>
            {% if editMode == 1 %}
                Modifier la template
            {% else %}
                Ajouter une nouvelle template
            {% endif %}
        </div>
        <div class="card-body">
            <style>
                .form_nvTemplate label
                {
                    font-size: 1.3em;
                }
                .form_nvTemplate input
                {
                    font-size: 1.1em;
                }
                .form_nvTemplate
                {
                    padding-right: 300px;
                    padding-left: 100px;
                }
            </style>
            <div class="form_nvTemplate">
                {{form_start(form)}}
                    <div class="row">
                        <div class="col">
                            {{ form_row(form.Name) }}
                        </div>
                        <div class="col">
                            {{ form_row(form.service) }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            {{ form_row(form.description) }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            {{ form_row(form.preview_url) }}
                        </div>
                    </div>



                    <div class="row">
                        <div class="col">
                            <div class="row py-4">
                                <div class="col-lg-6 mx-auto">

                                    <!-- Upload image input-->
                                    <div class="input-group mb-3 px-2 py-2 rounded-pill bg-white shadow-sm">
                                        {{ form_widget(form.image, { 'attr': {'class': 'form-control border-0', 'onchange': 'readURL(this);', 'id': 'upload'} }) }}
                                        <label id="upload-label" for="template_image" class="font-weight-light text-muted">Choose file</label>
                                        <div class="input-group-append">
                                            <label for="template_image" class="btn btn-light m-0 rounded-pill px-4"> <i class="fa fa-cloud-upload mr-2 text-muted"></i><small class="text-uppercase font-weight-bold text-muted">Choose file</small></label>
                                        </div>
                                    </div>

                                    <!-- Uploaded image area-->
                                    <p class="font-italic text-white text-center">The image uploaded will be rendered inside the box below.</p>
                                    <div class="image-area mt-4"><img id="imageResult" src="#" alt="" class="img-fluid rounded shadow-sm mx-auto d-block"></div>

                                </div>
                            </div>
                        </div>     
                    </div>
                    <div class="float-right mt-5">
                        <a href="{{ path('admin_templates') }}" class="btn btn-danger">
                            <i class="fas fa-window-close"></i>
                            Annuler
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-check"></i>
                            {% if editMode == 1 %}
                                Modifier
                            {% else %}
                                Ajouter
                            {% endif %}
                        </button>
                    </div>
                {{form_end(form)}}
            </div>

        </div>
    </div>

{% endblock %}


{% block javascripts %}
    <script src="/script/image_upload.js"></script>
{% endblock %}